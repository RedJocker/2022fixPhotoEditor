<h2>Description</h2>

<p>
  In this stage, we will add the <strong>galleryButton</strong> as well as
  <strong>imageView</strong> to display an image chosen from the gallery.
  Users should be able to load any image from their gallery to imageView.
</p>

<p>
  The imageView is already set up in layout and MainActivity, so that it has
  a default bitmap from the start. Tests in later stages depend on this bitmap,
  so do not change this setup. In your virtual device you probably don&#39;t have
  any images saved in your gallery folder, so to make manual test to your application
  you can set up the gallery using&nbsp;the default camera app from your virtual device to add
  some pictures there
</p>
<br/>
<h2>Objectives</h2>

<ol>
  <li>
    Keep the <code>ImageView</code> with <code>id</code>&nbsp;<code>ivPhoto</code>,
    which will display gallery image,&nbsp;and also keep the code to load
    the default bitmap on the <code>onCreate</code> method
  </li>
  <li>
    Add a <code>Button</code>&nbsp;for opening your gallery folder with&nbsp;the
    <code>id</code>&nbsp;attribute <code>btnGallery</code>
  </li>

  <li>
    Create an <code>ActivityResultLauncher</code>
    that will be used to load the image from gallery
    (wide code better viewed on web)<br/><br/>

    <pre><code> private val activityResultLauncher =
      registerForActivityResult(StartActivityForResult()) { result -&gt;
        if (result.resultCode == Activity.RESULT_OK) {
          val photoUri = result.data?.data ?: return@registerForActivityResult
          // code to update ivPhoto with loaded image
        }
      }</code></pre>
    <br/>

  </li>

  <li>
    When <code>btnGallery</code> is clicked launch an intent using the <code>activityResultLauncher</code> to load an image from gallery.
    The intent should be as follows:<br/><br/>
    <code>Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI)</code>
  </li>


</ol>





<h2>Examples</h2>

<p><img alt="" height="520" name="Android Emulator - Pixel_3a_API_30_x86_5554 2021-12-04 19-28-09.gif" src="https://ucarecdn.com/be6bf9e2-425d-45db-9d12-0ac35cc50454/" width="270"></p>

